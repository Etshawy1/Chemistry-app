<title>Lectures</title>
<%- include("partails/adminHeader.ejs") -%>

<main class="page-content">
    <div class="container crud-table" ng-app="myApp" ng-controller="namesCtrl">
        <div class="clearfix">
            <div class="form-inline pull-left">
                <button class="btn btn-success" ng-click="addlecture()"><span class="glyphicon glyphicon-plus">
                    </span>Add lecture</button>
            </div>
            <div class="form-inline pull-right">
                <div class="form-group">
                    <input class="form-control" type="text" ng-model="searchName" placeholder="Type name to search" />
                </div>
            </div>
        </div>
        <table class="table table-striped table-responsive">
            <thead>
                <tr>
                    <th ng-click="orderBy('code')">Course</th>
                    <th ng-click="orderBy('name')">Center</th>
                    <th>Day</th>
                    <th>Hour</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody class="text-center">
                <tr ng-repeat="lecture in resultlectures = (lectures) | orderBy: order">
                    <td>{{lecture.course_name}}</td>
                    <td>{{lecture.center_name}}</td>
                    <td>{{lecture.day}}</td>
                    <td>{{lecture.hour}}</td>
                    <td>
                        <button class="btn btn-primary" ng-click="editlecture(lecture)">Edit</button>
                    </td>
                    <td>
                        <button class="btn btn-danger" ng-click="deletelecture(lecture)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="crude-form__wrapper" ng-show="triggerForm">
            <h3 ng-show="editForm">Edit Lecture</h3>
            <h3 ng-show="addForm">Add Lectuer</h3>
            <form name="lectureForm" ng-model="lectureForm">
                <div class="form-group">
                    <div class="form-group col-md-12">
                        <label for="course">Course</label>
                        <select id="Course" required ng-model="chosenCourse"  class="col-md-12">
                            <option value = "">Select a course</option>
                            <option ng-repeat="option in courses" ng-value="option.id">{{option.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-group col-md-12">
                        <label for="center">Center</label>
                        <select required ng-model="chosenCenter" class="col-md-12">
                            <option value = "">Select a center</option>
                            <option ng-repeat="option in centers" ng-value="option.name">{{option.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-group col-md-12">
                        <label for="editDay">Day</label>
                        <select class="custom-select" ng-model="chosenday" required class="col-md-12">
                            <option value = "">Select day</option>
                            <option value="Saturday">Saturday</option>
                            <option value="Sunday">Sunday</option>
                            <option value="Monday">Monday</option>
                            <option value="Tuesday">Tuesday</option>
                            <option value="Wednesday">Wednesday</option>
                            <option value="Thursday">Thursday</option>
                            <option value="Friday">Friday</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-group col-md-12">
                        <label for="editTime">Time</label>
                        <input class="form-control" ng-model="chosenhour" id="Time" type="time" name="time" required autocomplete="off" />
                    </div>
                </div>
                <button class="btn btn-primary" ng-click="saveEdit(lectureId)"
                    ng-disabled="userForm.$invalid"> <i class="glyphicon glyphicon-pencil"> </i>Save
                    change </button>
                <button class="btn btn-primary" ng-click="triggerForm = false">
                    Cancel </button>
            </form>
        </div>
    </div>
</main>
</div>
<!-- page-wrapper -->
<script src="/javascripts/lecture.js"></script>
<%- include("partails/adminFooter") -%>